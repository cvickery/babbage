<?php
  header("Vary: Accept");
  if (  array_key_exists("HTTP_ACCEPT", $_SERVER) &&
        stristr($_SERVER["HTTP_ACCEPT"], "application/xhtml+xml") ||
        stristr($_SERVER["HTTP_USER_AGENT"], "W3C_Validator")
      )
  {
    header("Content-type: application/xhtml+xml");
    print("<?xml version=\"1.0\" encoding=\"utf-8\"?>\n");
  }
  else
  {
    header("Content-type: text/html; charset=utf-8");
  }
  $protocol = 'http';
  if ( isset($_SERVER['HTTPS']) ) $protocol = 'https';
 ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <title>An Error Has Occurred</title>
    <style type="text/css">
     html, body {
      margin:0; padding:0;
      font-family:sans-serif;
      background-color:#333;
      color:white;
      }
    body {
      max-width:600px;
      background-color:#666;
      margin:2em auto;
      padding:0 1em;
      border:2px solid red;
      border-radius:0.5em;
      -moz-border-radius:0.5em;
      -webkit-border-radius:0.5em;
      -moz-box-shadow: 1em 1em 1em #500;
      -webkit-box-shadow: 1em 1em 1em #500;
      box-shadow: 1em 1em 1em #500;
      }
    h1 { text-align:center; }
    a {
      background-color: #666;
      color:white;
      padding:0.25em;
      }
    a:hover {
      background-color:black;
      text-decoration:none;
      }
    table { 
      border-collapse:collapse;
      border: 1px solid red;
      width:80%;
      margin:auto;
      }
    th,td {
      border:1px solid red;
      padding: 0.25em 1em;
      }
    </style>
  </head>
  <body>
    <h1>OMG! 404!! An Error Has Occurred!!!</h1>
    <p>
      The nature of the error would be that request was made
      for a web page that does not exist on this server, very possibly 
      because there is no such web page here.
    </p>
    <table>
      <tr><th>Probability</th><th>Cause</th><th>What to do</th></tr>
      <tr><td>0.99</td><td>Dr. Vickery messed up.</td><td>Please <a href="/contact_info.xhtml">let me know</a>.</td></tr>
      <tr><td>0.005</td><td>You messed up.</td><td>Donâ€™t make mistakes!</td></tr>
      <tr><td>0.005</td><td>Somebody else messed up.</td><td>Blame them.</td></tr>
    </table>
    <p><?php echo "$protocol://{$_SERVER['SERVER_NAME']}{$_SERVER['REQUEST_URI']}";?> does not exist.</p>
    <p><a href="/">Home Page</a></p>
  </body>
</html>
