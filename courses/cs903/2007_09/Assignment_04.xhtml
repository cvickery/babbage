<?php
  header("Vary: Accept");
  if (  array_key_exists("HTTP_ACCEPT", $_SERVER) &&
        stristr($_SERVER["HTTP_ACCEPT"], "application/xhtml+xml") ||
        stristr($_SERVER["HTTP_USER_AGENT"], "W3C_Validator")
      )
  {
    header("Content-type: application/xhtml+xml");
    header("Last-Modified: "
                    .gmdate('r',filemtime($_SERVER['SCRIPT_FILENAME'])));
    print("<?xml version=\"1.0\" encoding=\"utf-8\"?>\n");
  }
  else
  {
    header("Content-type: text/html; charset=utf-8");
  }
 ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

  <head>
    <title>CS 90.3 Assignment 4</title>
    <link rel="shortcut icon" href="../favicon.ico" />
    <link rel="stylesheet"
          type="text/css"
          media="all"
          href="../../css/style-all.css" />
    <link rel="stylesheet"
          type="text/css"
          media="screen"
          href="../../css/style-screen.css" />
    <link rel="stylesheet"
          type="text/css"
          media="print"
          href="../../css/style-print.css" />
  </head>

  <body>
    <div id="header">
      <h1>CS 90.3 Assignment 4</h1>
    </div>

    <div id="content">
      <h2>Description</h2>
      <div class="whitebox">
        <p>
        	Create a form and make the form data database safe.
        </p>
      </div>
      <h2>Procedure</h2>
      <div class="whitebox">
        <ol>
          <li>
            <h5>Set up the assignment.
            </h5>
            <p class="run_in">
              Create a directory named <span class="directoryName">Assignment_04</span> under your <span
              class="directoryName">My&nbsp;Website</span> directory, and in it create a web page named <span
              class="fileName">index.xhtml</span>. Create a second  file named <span class="fileName">form_processor.php</span> in the
              same directory. Both files must be based on the <a href="template.zip">XHTML template file</a> 
              I am providing; both files must validate with no warnings or errors both for XHTML 1.1 strict and CSS 2.1.
              Both pages must be rendered in Standards Compliant mode and must be delivered as application/xhtml+xml to
              those browsers that will accept that content type; otherwise, it must be delivered as text/html.
            </p>
          </li>
          <li>
          	<h5>Do the assignment</h5>
            <p class="run_in">
            	Code <span class="fileName">index.xhtml</span> so that it presents the user with a nicely-formatted form
              for entering the user&rsquo;s name, contact information (including an email address), a selection (anything
              but the user&rsquo;s state), and a textarea for comments. Use <span class="fileName">form_processor.php</span>
              as the <span class="propertyName">action</span> property. You may use the GET method during development, but
              the submitted assignment must use the POST method.
            </p>
            <p>
            	Both files must use external stylesheets located in a subdirectory named <span 
              class="directoryName">css</span>; all JavaScript must be in a file named <span 
              class="fileName">assignment_04.js</span>, located in a subdirectory named <span 
              class="directoryName">scripts</span>. Put these subdirectories directly under your <span 
              class="directoryName">My Website</span> if they are not already there.
            </p>
            <p>Do not use any tables in either of the web pages</p>
            <p>Use the textbook&rsquo;s Core object for JavaScript event handling.</p>
            <p>
            	When the user submits the form, use a regular expression to verify that the email address is valid and
              that all the form values have been filled in. Do not let the form submit unless it passes these verification
              checks.
            </p>
            <p>
            	When the form is actually submitted, you must verify again that all the values have been filled in and that
              the email address is valid. Generate an output page that shows the information the user entered into the
              form. It must look exactly like what the user typed. But it must be SQL injection-proof.
            </p>
          </li>
        </ol>
      </div>
      <h2>Check Your Work And Submit The Assignment</h2>
      <div class="whitebox">

				<p><span class="runin-head">Test your project on various browsers.</span> Because of browser differences, it is time-consuming
        to get the project to work exactly right on all browser/computers, so the only requirement is that you provide a working
        version for Firefox running on Windows. (I will be checking your project using Firefox on a Macintosh, but that
        shouldn&rsquo;t make a difference.) But check your code on the other browsers available in the lab: Internet Explorer,
        Opera, and Safari. Your code should be functional on all platforms, just not necessarily perfect.</p>

        <p><span class="runin-head">Perform a link check on your site.</span> If necessary, go to the Manage Sites panel and be
        sure you have selected the &ldquo;case-sensitive link checking&rdquo; option. Then right-click on your <span
        class="directoryName">Assignment_03</span> directory and select the <span class="menuItem">Check Links->Selected
        Files</span> menu item from the context menu. Fix any errors you find there.</p>
        
        <p>If necessary, copy your site from your development system to the lab as described above, and do a final check
        of your project using the <span class="codeSnippet">~</span>&lt;accountname&gt; form of URL. Then send email to
        me telling me the project is ready for me to grade.  I will copy the project from your account in the lab to
        <span class="computerName">babbage </span> for testing.</p>
        
        <p class="standout_block">The Subject line of your email must say, <span class="codeSnippet">CS-90.3 Assignment
        4</span>, just like that, in order to get through my spam filters. Within a day, you should receive an
        &ldquo;OK, I&rsquo;ll check it out!&rdquo; message from me acknowledging that I received your email.</p>

      </div>
    </div>

    <div id="footer">
      <p class="links">
        <a href="../../../index.xhtml">Vickery Home</a>&nbsp;-&nbsp;
        <a href="http://validator.w3.org/check?uri=referer">
        XHTML</a>&nbsp;-&nbsp;
        <a href="http://jigsaw.w3.org/css-validator/check/referer">
        CSS</a>      </p>
      <p><em>Last updated
        <?php echo date("Y-m-d", filemtime($_SERVER['SCRIPT_FILENAME']));
        ?>.</em>
      </p>
    </div>
  </body>
</html>
