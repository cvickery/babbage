<?php
  header("Vary: Accept");
  if (  array_key_exists("HTTP_ACCEPT", $_SERVER) &&
        stristr($_SERVER["HTTP_ACCEPT"], "application/xhtml+xml") ||
        stristr($_SERVER["HTTP_USER_AGENT"], "W3C_Validator")
      )
  {
    header("Content-type: application/xhtml+xml");
    header("Last-Modified: "
                    .gmdate('r',filemtime($_SERVER['SCRIPT_FILENAME'])));
    print("<?xml version=\"1.0\" encoding=\"utf-8\"?>\n");
  }
  else
  {
    header("Content-type: text/html; charset=utf-8");
  }
 ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

  <head>
    <title>CS-90.3 Assignment 2</title>
    <meta http-equiv="Content-Type" content="charset=UTF-8" />

    <link rel="shortcut icon" href="../favicon.ico" />
    <link rel="stylesheet"
          type="text/css"
          media="all"
          href="../../css/style-all.css"
    />
    <link rel="stylesheet"
          type="text/css"
          media="screen"
          href="../../css/style-screen.css"
    />
    <link rel="stylesheet"
          type="text/css"
          media="print"
          href="../../css/style-print.css"
    />
    <link rel="stylesheet"
          type="text/css"
          media="all"
          href="../../css/assignments.css"
    />
    <script type="text/javascript" src="../../scripts/core.js"></script>
    <script type="text/javascript" src="../../scripts/round-corners.js"></script>
  </head>

  <body id='urn:uuid:A043ACE2-3BA5-4FD5-A9DF-13BEFD5B032E'>
    <h1>CS-90.3 Assignment 2</h1>
    <h2>Introduction</h2>
    <div>
      Doing JavaScript &ldquo;right&rdquo; includes minimizing the number of global variables used in your code. This
      assignment is one step in developing a framework for your JavaScript code that eliminates all global variables in
      your code while reducing the total number of global variables to one: the <span class="variableName">Core</span>
      object created by the
      <a href="../core.js">core library</a> library given in the textbook.
    </div>
    <h2>The Assignment</h2>
    <div>
      <ol>
        <li>
          <h5>Install the Core library and link to it from your site&rsquo;s index page.</h5>
          <p class="run-in">
            Use the link in the Introduction to download a copy of the core library, and put it in the <span
            class="directoryName">scripts</span> directory of your website. Using the same <span
            class="fileNme">index.xhtml</span> file you used for the first assignment, put a link to this library in the
            <span class="tag-name">head</span> of your document. Be sure the link to the library is above the link to
            your own JavaScript code. You will be editing the script file from Assignment 1 for this assignment; there
            is no need to rename it or to create a new file.
          </p>
        </li>
        <li>
          <h5>Use <span class="functionName">Core.start()</span> to set up two event listeners for the
          <span class="variableName">onload</span> event.</h5>
          <p class="run-in">
            Remove the existing code from <span class="fileName">sample.js</span> (or whatever you might have renamed it
            in Assignment 1), and create two global objects named <span class="variableName">obj1</span> and <span
            class="variableName">obj2</span>. Add a function named <span class="functionName">init()</span> to both
            objects: the function in <span class="variableName">obj1</span> is to display an alert that says,
            &ldquo;Hello from obj1,&rdquo; and the function in <span class="variableName">obj2</span> is to display an
            alert that says, &ldquo;Hello from obj2.&rdquo;
          </p>
          <p>
            Add two calls to <span class="functionName">Core.start()</span>: pass <span class="variableName">obj1</span>
            as an argument to the first one, and <span class="variableName">obj2</span> to the second one.
          </p>
          <p>
            Test your code. If you have done things correctly, you should first see the content of your web page, and
            then see the two alert messages, one after the other. (Remember that in Assignment 1 you saw the alert message
            before the page content appeared.) Try viewing your web site using all the browsers in
            the lab: Firefox (of course!), Opera, Internet Explorer, and Safari. You might also want to download and
            install Google Chrome and try that browser too. (We have not been able to install a copy of Chrome that all
            users can share the way other programs do; each person seems to need to install their own copy.)
          </p>
          <p>
            In the body of your email message, when you submit the assignment, tell the sequence of the two alert
            messages, and whether there was any difference across browsers.
          </p>
        </li>
        <li>
          <h5>Eliminate the global variables.</h5>
          <p>
            You can eliminate the two global variables (<span class="variableName">obj1</span> and
            <span class="variableName">obj2</span>) by creating anonymous (unnamed) objects to pass to
            <span class="functionName">Core.start()</span>, as demonstrated in class on September 22:
          </p>
          <p class="code-block">
  Core.start( { init: function() { alert("Hello from obj1"); } } );
          </p>
          <p>
            But this all&ndash;on&ndash;one&ndash;line style will not work when you write real JavaScript applications;
            there will be too much code to fit on one line, and the code will be impossible to read. Reformat the two calls
            to <span class="functionName">Core.start()</span> so the proper indentation is given:
          </p>
          <p class="code-block">
  Core.start
  (
    // the object goes here
  );
          </p>
          <p>
            Test your code to be sure it still works. (No need to run it in the other browsers unless you want to.)
            Be sure your code validates with no warnings and no errors when you click on the XHTML link at the bottom
            of the page.
          </p>
        </li>
      </ol>
    </div>
    <h2>Submit The Assignment</h2>
    <div>
      <p>
        When you have tested your web site and verified that everything validates and runs correctly, log out so your
        site will be copied back to the server. Then send me an email to let me know your assignment is ready for
        grading: I will copy your site from the lab server to babbage to verify that it is correct.
      </p>
      <p>
        Send your email to vickery<span class="at" title="Change the word 'at' to the symbol
        '@'">at</span>babbage.cs.qc.cuny.edu with <span class="code-snippet">CS-90.3 Assignment 2</span>, spelled and
        capitalized just like that. Be sure to put your email address inside the message you send.
      </p>
    </div>
    <div id="footer">
      <a href="../../../">Vickery Home</a>&mdash;<a
         href="../../cs090.3">Course Home Page</a>&mdash;<a
         href="http://validator.w3.org/check?uri=referer">XHTML</a>&mdash;<a
         href="http://jigsaw.w3.org/css-validator/check/referer">CSS</a>&mdash;Last
         updated <?php echo date("Y-m-d", filemtime('course_calendar.xml')); ?>
    </div>
  </body>
</html>
