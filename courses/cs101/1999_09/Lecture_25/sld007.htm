
<!--  Presentation generated by Internet Assistant for Microsoft PowerPoint 97 -->

<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html;charset=windows-1252">
<meta name="GENERATOR" content="Microsoft Internet Assistant for Microsoft PowerPoint 97">
 <TITLE>PPT Slide</TITLE> 
</HEAD>

<BODY     >

<CENTER>
<TABLE WIDTH=100%> 
     <TR> <TD WIDTH=100% ALIGN=CENTER>
         <A HREF="sld001.htm"><IMG SRC="first.gif" BORDER=0 ALT="First"></A>
         <A HREF="sld006.htm"><IMG SRC="prev.gif" BORDER=0 ALT="Previous"></A>
         <IMG SRC="next.gif" BORDER=0>
         <IMG SRC="last.gif" BORDER=0>
         <IMG SRC="space.gif" BORDER=0>
         <A HREF="index.htm"><IMG SRC="info.gif" BORDER=0 ALT="Index"></A>
         <A HREF="http://babbage.cs.qc.edu/courses/cs101"><IMG SRC="home.gif" BORDER=0 ALT="Home"></A>
         <A HREF="tsld007.htm"><IMG SRC="text.gif" BORDER=0 ALT="Text"></A>
     </TD> </TR>
     <TR> <TD WIDTH=100% ALIGN=CENTER>
         <IMG SRC="img007.gif" usemap="#Objmap" WIDTH=640 HEIGHT=480 BORDER=0>
     </TD> </TR>
</TABLE>
<P>Slide 7 of 7</P>
</CENTER>
<!-- <UL>
 //  Handle File-&#062New-&#062Library events.
</UL><UL>
        fNewLib.addActionListener( new ActionListener() {
</UL><UL>
          public void actionPerformed( ActionEvent ae ) {
</UL><UL>
            newLib();
</UL><UL>
          } } );
</UL></P>
<P><UL>
Because there is a lot of work to do, I put the code in a separate method so the anonymous class would stay small.</UL></P>
<P><UL>
    //  Method newLib()
</UL><UL>
    //  ----------------------------------------------------------------------
</UL><UL>
    /**
</UL><UL>
      *   Interacts with the user to create a new MP3 Library
</UL><UL>
      *   file and open it as the current file.
</UL><UL>
      */
</UL><UL>
      public void newLib()
</UL><UL>
      {
</UL><UL>
        File          file  = null;
</UL><UL>
        JFileChooser  jfc   = new JFileChooser( startDir );
</UL><UL>
        MP3_Library   lib   = null;
</UL><UL>

</UL><UL>
        if ( jfc.showOpenDialog( gui ) ==
</UL><UL>
            JFileChooser.APPROVE_OPTION )
</UL><UL>
        {
</UL><UL>
          file = jfc.getSelectedFile();
</UL><UL>
          try
</UL><UL>
          {
</UL><UL>
            if ( file.exists() )
</UL><UL>
            {
</UL><UL>
              throw new Exception( "File Exists" );
</UL><UL>
            }
</UL><UL>
            file = new File ( file.getCanonicalPath() );
</UL><UL>
            MP3_Library.initializeLibraryFile( file );
</UL><UL>
            lib = new MP3_Library( file );
</UL><UL>
            close();  // See Web Page for Project 3c
</UL><UL>
            library = lib;
</UL><UL>
            startDir = file.getParent();
</UL><UL>
            addFile.setEnabled( true );
</UL><UL>
            gui.pack();
</UL><UL>
          }</UL></P>
<P><UL>
    catch ( Exception e ) // Catch any of the 3 exceptions
</UL><UL>
          {
</UL><UL>
            JOptionPane.showMessageDialog(
</UL><UL>
              gui,
</UL><UL>
              "Error: " + e.getMessage(),
</UL><UL>
              "Unable to Create Library",
</UL><UL>
              JOptionPane.ERROR_MESSAGE );
</UL><UL>
          }
</UL><UL>
        }
</UL><UL>
      }</UL></P>
<P><UL>
Might throw IOException</UL></P>
<P><UL>
Might throw InvalidLibraryFileException</UL></P>
<P><UL>
Might throw IOException</UL></P>
<P>  -->
</Body>
</HTML>
